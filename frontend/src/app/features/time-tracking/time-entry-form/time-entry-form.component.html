<mat-card class="time-entry-form-card">
  <mat-card-header>
    <mat-card-title>Add Time Entry</mat-card-title>
    <mat-card-subtitle>Manually add a time entry for {{ selectedDate | date }}</mat-card-subtitle>
  </mat-card-header>
  
  <form [formGroup]="timeEntryForm" (ngSubmit)="onSubmit()">
    <mat-card-content>
      <div class="form-row">
        <mat-form-field appearance="fill">
          <mat-label>Task</mat-label>
          <mat-select formControlName="taskId">
            <mat-option *ngFor="let task of tasks" [value]="task._id">
              {{ task.name }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="timeEntryForm.get('taskId')?.hasError('required')">
            Task is required
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="fill">
          <mat-label>Start Time</mat-label>
          <input matInput type="time" formControlName="startTime">
          <mat-error *ngIf="timeEntryForm.get('startTime')?.hasError('required')">
            Start time is required
          </mat-error>
        </mat-form-field>
        
        <mat-form-field appearance="fill">
          <mat-label>Duration (hours)</mat-label>
          <input matInput type="number" step="0.25" min="0.01" max="24" formControlName="totalDurationInHour">
          <mat-hint>Enter time in decimal hours (e.g., 1.5 for 1 hour and 30 minutes)</mat-hint>
          <mat-error *ngIf="timeEntryForm.get('totalDurationInHour')?.hasError('required')">
            Duration is required
          </mat-error>
          <mat-error *ngIf="timeEntryForm.get('totalDurationInHour')?.hasError('min')">
            Duration must be greater than 0
          </mat-error>
          <mat-error *ngIf="timeEntryForm.get('totalDurationInHour')?.hasError('max')">
            Duration must be less than or equal to 24 hours
          </mat-error>
        </mat-form-field>
      </div>
    </mat-card-content>
    
    <mat-card-actions align="end">
      <button mat-raised-button color="primary" type="submit" [disabled]="timeEntryForm.invalid">
        <mat-icon>add</mat-icon>
        Add Time Entry
      </button>
    </mat-card-actions>
  </form>
</mat-card> 